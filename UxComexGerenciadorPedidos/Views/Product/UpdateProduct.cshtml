@model UxComexGerenciadorPedidos.Domain.Entities.Product
@{
    Int32 ProductId = Model?.Id ?? 0;
    String ProductName = Model?.Name ?? "";
    String ProductDescription = Model?.Description ?? "";
    String ProductPrice = Model?.Price.ToString("N2").Replace(",", ".") ?? new decimal(0.0).ToString("N2").Replace(",", ".");
    Int32 ProductQuantityOfStock = Model?.QuantityOfStock ?? 0;
}

<div>
    <div class="container w-50 border border-primary h1 text-center text-white bg-danger p-2">
       Update Product
    </div>     
    <div class="container border border-1 w-50 p-4">
        <div class="mb-3">
            <div class="row">
                <div class="col">
                    <label for="inputProductId" class="form-label">Id:</label>
                </div>
                <div class="col-sm-8">
                    <input type="text" class="form-control" placeholder="Name" aria-label="Name" id="txtProductId" value="@ProductId" disabled readonly>
                </div>
            </div>
        </div>
        <div class="mb-3">

            <div class="row">
                <div class="col">
                    <label for="inputName" class="form-label">Name:</label>
                </div>
                <div class="col-sm-8">
                    <input type="text" class="form-control" placeholder="Name" aria-label="Name" id="txtProductName" value="@ProductName">
                </div>
            </div>

        </div>
        <div class="mb-3">

            <div class="row">
                <div class="col">
                    <label for="inputDescription" class="form-label">Description:</label>
                </div>
                <div class="col-sm-8">
                    <input type="text" class="form-control" placeholder="Description" aria-label="Description" id="txtProductDescription" value="@ProductDescription">
                </div>
            </div>

        </div>
        <div class="mb-3">

            <div class="row">
                <div class="col">
                    <label for="inputPrice" class="form-label">Price (R$):</label>
                </div>
                <div class="col-sm-8">
                    <input type="number" class="form-control" placeholder="Price" aria-label="Price" id="txtProductPrice" value='@ProductPrice' step="0.01" min="1.0">
                </div>
            </div>

        </div>
        <div class="mb-3">
            <div class="row">
                <div class="col">
                    <label for="inputQuantityStock" class="form-label">Quantity of Stock:</label>
                </div>
                <div class="col-sm-8">
                    <input type="number" class="form-control" placeholder="Quantity of Stock" aria-label="Quantity of Stock" id="txtQuantityOfStock" value="@ProductQuantityOfStock">
                </div>
            </div>
        </div>
        <div class="mb-0">
            <div class="row">
                @if (ProductId > 0)
                {
                    <div class="container w-75 p-4">
                        <form method="post" id="frmSaveProduct">
                            <input type="submit" class="form-control btn btn-danger" value="Save" />
                        </form>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script language="javascript" type="text/javascript">
    $(document).ready(function () {
        //$("#txtProductId :disabled").css("")
        $("#frmSaveProduct").submit(function (event) {
            event.preventDefault();

            var productId = @Model?.Id;
            var productName = $("#txtProductName").val();
            var productDescription = $("#txtProductDescription").val();
            var productPrice = $("#txtProductPrice").val();
            var productQuantityOfStock = $("#txtQuantityOfStock").val();

            $.ajax({
                url: "/Product/Update",
                method: "POST",
                contentType: "application/json",

                data: JSON.stringify({ id: productId, name: productName, description: productDescription, price: productPrice, quantityOfStock: productQuantityOfStock }),
                success: function (data) {

                },
                error: function (xhr, status, error) {
                    console.log('Erro na requisição:' + error);
                }
            });

        });
    });
</script>